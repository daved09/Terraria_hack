using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

using Microsoft.Xna.Framework;

using Terraria;
using Terraria.ID;

namespace SLS
{
    class Exploits
    {
        public static bool SendChatMessagePre(string cmd, string[] args)
        {
            switch(cmd)
            {
                case "kill":
                    if(args.Length < 1)
                    {
                        Globals.Print("Invalid arguments count!");
                        return true;
                    }

                    var plr = null as Player;
                    if(!PlayerUtil.TryGetPlayer(args[0], out plr))
                    {
                        Globals.Print("Player not found!");
                        return true;
                    }
                    var num = Projectile.NewProjectile(plr.Center + new Vector2(0f, 30f), new Vector2(0f, -50f), ProjectileID.HornetStinger, int.MaxValue, 0f, Globals.GetLocalPlayer().whoAmI);
                    Main.projectile[num].friendly = false;
                    NetMessage.SendPlayerHurt(plr.whoAmI, Terraria.DataStructures.PlayerDeathReason.ByProjectile(plr.whoAmI, num), int.MaxValue, 0, false, false, -1);
                    break;

                default:
                    return false;
            }

            return true;
        }
    }
}
